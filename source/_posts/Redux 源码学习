---
title: Redux 源码学习
date: 2018-09-11 15:12:29
tags: Redux
---

学习 Redux 源码

<!-- more -->

# 前置条件

根据[Redux提供的TodoList](https://github.com/reduxjs/redux/tree/master/examples/counter),思路是根据使用,反向的带入源码进行学习
注解[Redux源码](https://github.com/HiMrHu/Redux)

# Redux

## store

```jsx
import React from 'react'
import ReactDOM from 'react-dom'
import { createStore } from 'redux'
import Counter from './components/Counter'
import counter from './reducers'

const store = createStore(counter)
const rootEl = document.getElementById('root')

const render = () => ReactDOM.render(
  <Counter
    value={store.getState()}
    onIncrement={() => store.dispatch({ type: 'INCREMENT' })}
    onDecrement={() => store.dispatch({ type: 'DECREMENT' })}
  />,
  rootEl
)

render()
store.subscribe(render)
```

在上面的例子里, counter export default 一个函数, 即 reducer 函数, 这个函数作为参数传递给 createStore 生成 store


### createStore


redux 的[入口文件](https://github.com/HiMrHu/Redux/blob/master/Redux/index.js),判断当前运行代码是是否为开发版本代码,以及引入并导出了所有的模块

